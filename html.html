<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <h3>The message from the parent appears below:</h3>
    <div id="message">Please send some message from the input above.</div>
<script>
  window.addEventListener('message', function(event) {
    console.log("Message received from the parent: " + event.data); // Message received from parent
  });
</script>
    <input style="margin-top: 1em;" type="text" id="messageText" />
    <button id="sendMessage">Send Message to Parent</button>
    <script>
      var button = document.querySelector("#sendMessage");
      button.addEventListener("click", function () {
        var message = document.querySelector("#messageText").value;
        window.parent.postMessage(message, "*");
      });
	
	function sendMessage(obj){
		window.parent.postMessage(JSON.stringify(obj), "*");
	}

        function handleLoad(){
           
            let doc =  document.getElementById('objTest').contentDocument;

console.log('doc:', doc);
            
            doc.addEventListener('mouseover', e => {
                    e.preventDefault();
                    //e.stopPropagation();
                    //console.log(e.path[1].href.baseVal);
			window.parent.postMessage(e.path[1].href.baseVal, "*");
                    
                });
    
                this.addEventListener('updateGTMdataLayer', function(e) {
                    alert(e.detail);
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({                       
                    'event': 'create account',
                    'relevant updates': e.detail
                });
            });
    
                this.dispatchEvent(new CustomEvent("updateGTMdataLayer", { "detail" : "YES"}));
    
        }
    </script>

<div><object id="objTest" onload="handleLoad()" type="image/svg+xml" data="https://mpp.maytronics.com/content/NewSvg/99996610-AR/99996610-AR-00.svg" width="400" height="300"></object> </div>
  </body>
</html>